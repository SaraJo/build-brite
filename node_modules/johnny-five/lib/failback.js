function evaluation(expr, callback) {
  var isFailure = false;

  function failback() {
    isFailure = true;
    callback();
  }

  if (!expr) {
    failback();
  }

  if (!isFailure) {
    console.log("Not a failure, callback directly");
    callback();
  } else {
    console.log("Already failed, callback called.");
  }
}


evaluation(false, function() {
  console.log("false will fail");
});

evaluation(true, function() {
  console.log("true will not fail");
});
