var five = require("../lib/johnny-five.js"),
    board = new five.Board();

board.on("ready", function() {
  var strobe, state;

  strobe = new five.Pin(11);

  this.loop(500, function() {
    strobe[ (state ^= 0x01) % 2 === 0 ? "high" : "low" ]();
  });


  this.repl.inject({
    pin: strobe
  });

  strobe.query(function( value ) {
    console.log( value );
  });

  // // Event tests
  // [ "high", "low" ].forEach(function( state ) {
  //   strobe.on( state, function() {
  //     if ( events.indexOf(state) === -1 ) {
  //       console.log( "Event emitted for:", state, "on", this.addr );
  //       events.push( state );
  //     }
  //   });
  // });
});
